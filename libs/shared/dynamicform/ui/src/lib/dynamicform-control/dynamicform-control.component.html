<div
  [formGroup]="form"
  fxLayout="column"
  fxLayoutGap="0.25em">

  <ng-container [ngSwitch]="config.controlType">

    <ng-container *ngSwitchCase="FormControlType.TextField">
      <mat-label>{{config.label}}</mat-label>
      <mat-form-field [appearance]="appearance">
        <input
          matInput
          [formControlName]="config.key"
          [placeholder]="config.label"
          [type]="config.type || 'text'">
        <mat-error *ngIf="isErrorShown">
          <app-dynamicform-error-textfield
            [control]="control"
            [config]="config"></app-dynamicform-error-textfield>
        </mat-error>
      </mat-form-field>
    </ng-container>

    <div *ngSwitchCase="FormControlType.TextArea">
      <mat-label>{{config.label}}</mat-label>
      <mat-form-field [appearance]="appearance">
        <textarea
          matInput
          [formControlName]="config.key"
          [placeholder]="config.label"></textarea>
        <mat-error *ngIf="isErrorShown">
          <app-dynamicform-error-textfield
            [control]="control"
            [config]="config"></app-dynamicform-error-textfield>
        </mat-error>
      </mat-form-field>
    </div>

    <div *ngSwitchCase="FormControlType.Select">
      <mat-label>{{config.label}}</mat-label>
      <mat-form-field [appearance]="appearance">
        <mat-select [formControlName]="config.key">
          <mat-option
            *ngFor="let option of config.options"
            [value]="option.key">
            {{ option.value }}
          </mat-option>
        </mat-select>
        <app-dynamicform-error-select
          [control]="control"
          [config]="config"></app-dynamicform-error-select>
      </mat-form-field>
    </div>

    <div *ngSwitchCase="FormControlType.Checkbox">
      <mat-checkbox [formControlName]="config.key">{{config.label}}</mat-checkbox>
    </div>

    <div *ngSwitchCase="FormControlType.Radio">
      <mat-label>{{config.label}}</mat-label>
      <mat-radio-group [formControlName]="config.key">
        <mat-radio-button
          *ngFor="let option of config.options"
          [value]="option.key">
          {{ option.value }}
        </mat-radio-button>
      </mat-radio-group>
    </div>

  </ng-container>
</div>
